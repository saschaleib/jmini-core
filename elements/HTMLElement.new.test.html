<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="utf-8" />
		<title>HTMLElement.new() â€” jMini Test</title>
		<script src="HTMLElement.new.js" type="text/javascript"></script>
		<script src="Element.setText.min.js"></script>
		<script src="Element.append.min.js"></script>
		<script src="Element.setAttr.min.js"></script>
		<style>
			#target1, #target2, #target3, #target4, #target5 { border: red dotted 1px; }
			#target1 > *, #target2 > *, #target5 > * { border: blue dashed 1px; }
		</style>
	</head>
	<body>
		<h1>Tests: HTMLElement.new()</h1>
		<main>
			<h2><span>Create new HTMLElements:</span></h2>
			<p>
				1. Usage: <code>HTMLElement.<b>new</b>(name <i>&lt;String&gt;</i>,  [<i>attributelist</i>], text <i>&lt;String&gt;</i>))</code>
			</p>
			<p>
				Expected: three new items are added below this text, each with a short text explaining what they are:
			</p>
			<div id="target1"></div>
			
			<p>Expected: a list of new items is added to the list element below:</p>
			<ul id="target2"></ul>
			
			<h2><span>Create new element with attributes:</span></h2>
			<p>
				Usage: <code>HTMLElement.<b>new</b>(name <i>&lt;String&gt;</i>, attributelist <i>&lt;Object&gt;</i>, text <i>&lt;String&gt;</i>))</code>
			</p>
			<p>
				Expected: A link with href, target and class attributes. Also with a text content:
			<p id="target3">Link: </p>

			<h2><span>Create new element with sub-elements</span></h2>
			<p>
				Usage: <code>HTMLElement.<b>new</b>(name <i>&lt;String&gt;</i>, [<i>attributelist</i>], subElement <i>&lt;HTMLElement&gt;</i>))</code>
			</p>

			<p>
				Expected: a new details/summary field with a title. The field is open by default (but has no content!)
			</p>

			<p id="target4"></p>
			
			<h2><span>Create new element with multiple sub-elements</span></h2>
			<p>
				Usage: <code>HTMLElement.<b>new</b>(name <i>&lt;String&gt;</i>, [<i>attributelist</i>], elementList <i>&lt;Array&gt; of &lt;HTMLElement&gt;</i>))</code>
			</p>

			<p>
				Expected: a new details/summary field (closed by default). When opening, it reveals a list of items:
			</p>

			<p id="target5"></p>


		</main>
		<footer>
			<p><mark>End of tests. See console for any errors.</mark></p>
		</footer>
		
		<script type="text/javascript">

			console.group("Tests: HTMLElement.new()");
		
			/* create some objects and append them to target1: */
			let t1 = document.getElementById('target1');
			t1.append(HTMLElement.new('div', undefined, "New div added"));
			t1.append(HTMLElement.new('p', undefined, "New paragraph added"));
			t1.append(HTMLElement.new('strong', undefined, "New strong element added"));

			/* reusable list */
			let months = ['January', 'February', 'March', 'April', 'May', 'June', 'July', 'August', 'September', 'October', 'November', 'December'];
			
			months.forEach( (s, n) => {
				document.getElementById('target2')
					.append(HTMLElement.new('li')
						.setAttr('data-num' , n+1)
						.setText(s)
					)
				;
			});
			
			/* create a link: */
			let t3 = document.getElementById('target3');
			let link = HTMLElement.new('a', {
				'href': 'https://jmini.nuropa.eu/',
				'class': 'ext nuropa',
				'target': '_blank'
			}, 'jmini.nuropa.eu');
			t3.append(link);


			/* create a details/summary element: */
			let t5 = document.getElementById('target5');
			
			let arr = [];
			months.forEach( (month) => {
				arr.push(HTMLElement.new('li', undefined, month));
			});
			
			let details = HTMLElement.new('details', {
				'open': ''
			}, [
				HTMLElement.new('summary', undefined, "Summary"),
				HTMLElement.new('ul', undefined, arr)
			]);
			t5.append(details);


			/* done. */
			console.groupEnd();
			console.log("Done.");
		</script>
	</body>
</html>